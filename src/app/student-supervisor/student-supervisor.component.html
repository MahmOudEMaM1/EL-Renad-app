<div class="container">
    <mat-card *ngIf="!loading && !error">
        <mat-card-header>
            <h2>Trip Statistics</h2>
            <button mat-button (click)="logout()">Logout</button>
        </mat-card-header>

        <mat-card-content>
            <div class="stats-grid">
                <mat-card class="stats-card" *ngFor="let count of counts">
                    <mat-card-header>
                        <mat-card-title>{{ count.tripTypeName }}</mat-card-title>
                        <mat-card-subtitle>{{ count.tripPlaceName }}</mat-card-subtitle>
                    </mat-card-header>

                    <mat-card-content>
                        <div class="time-section">
                            <div class="time-row">
                                <span>Outbound:</span>
                                <strong>{{ count.outboundTripTimeRange }}</strong>
                            </div>
                            <div class="time-row">
                                <span>Return:</span>
                                <strong>{{ count.returnTripTimeRange }}</strong>
                            </div>
                        </div>

                        <div class="count-badge">
                            <mat-icon>people</mat-icon>
                            <span>{{ count.usernameCount }} Students</span>
                        </div>
                    </mat-card-content>
                </mat-card>
            </div>
        </mat-card-content>
    </mat-card>

    <mat-spinner *ngIf="loading"></mat-spinner>
    <div *ngIf="error" class="error-message">{{ error }}</div>
</div>